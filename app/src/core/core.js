const a2_0x263f99=a2_0x2497;(function(_0x47f579,_0x2e455a){const _0x3c15e6=a2_0x2497,_0x4f975e=_0x47f579();while(!![]){try{const _0x22354c=-parseInt(_0x3c15e6(0xfe))/0x1+-parseInt(_0x3c15e6(0x138))/0x2*(parseInt(_0x3c15e6(0xff))/0x3)+-parseInt(_0x3c15e6(0x15a))/0x4+-parseInt(_0x3c15e6(0x125))/0x5+-parseInt(_0x3c15e6(0x161))/0x6+parseInt(_0x3c15e6(0x12b))/0x7*(-parseInt(_0x3c15e6(0x13b))/0x8)+parseInt(_0x3c15e6(0x15b))/0x9;if(_0x22354c===_0x2e455a)break;else _0x4f975e['push'](_0x4f975e['shift']());}catch(_0x438a03){_0x4f975e['push'](_0x4f975e['shift']());}}}(a2_0x33c3,0xd83b3));import{ethers}from'ethers';import{API}from'../api/api.js';import{privateKey}from'../../accounts/accounts.js';function a2_0x33c3(){const _0x120f4a=['EXPLORER','sendTransaction','user','/dashboard?referral-code=','getBalance','Account\x20Type\x20:\x20','latest','connectSightAiDapps','Message\x20to\x20sign:\x20','Getting\x20Arcade\x20Game\x20Information...','getFeeData','arcade','something','length','state','JSON\x20Data\x20:\x20','indexOf','formatEther','parseEther','provider','Playing\x20Arcade\x20Game\x20ID\x20','0x0000000000000000000000000000000000000000','getTransactionCount','\x20attempts.','serializeBigInt','...','status','decodeData','...\x20Attempt\x20','Successfully\x20Got\x20User\x20Data','toISOString','checkIn','Connecting\x20to\x20Account\x20:\x20','Connected\x20to\x20Sight\x20AI','stringify','/fomo','7446350kizvHP','fetch','message','URL','forEach','find','1232akXzWn','Private\x20Key','https://sightai.io/dashboard?referral-code=','\x22],\x22chainId\x22:17000,\x22connector\x22:{\x22id\x22:\x22metaMask\x22,\x22name\x22:\x22MetaMask\x22,\x22type\x22:\x22injected\x22,\x22uid\x22:\x228c5b60aac25\x22}}]]},\x22chainId\x22:17000,\x22current\x22:\x228c5b60aac25\x22},\x22version\x22:2}','5ac42dcc7a005b04d92431cdc4172391e05d2ca3','\x20of\x20','played','winner','Invalid\x20account\x20Secret\x20Phrase\x20or\x20Private\x20Key','stateTree','Prepare\x20for\x20Tx...','Tx\x20Executed\x20\x0a','Failed\x20to\x20connect\x20to\x20SIGHT\x20AI','45914ZEVRtb','Balance\x20updated','parse','1672MxsdiE','PLAYAMOUNT','fromPhrase','RAWDATA','info','startsWith','getArcadeData','substring','Successfully\x20Got\x20Arcade\x20Info','Failed\x20to\x20estimate\x20gas\x20after\x20','\x0aChain\x20ID:\x20','cookie','Successfully\x20Check\x20In','Preparing\x20to\x20send\x20transaction\x20for\x20Arcade\x20Game\x20ID\x20','generateNonce','connectWallet','estimateGas','Failed\x20To\x20Check\x20In\x20','%22%2C%22refresh%22%5D%7D%5D%7D%5D%7D%2Cnull%2Cnull%2Ctrue%5D','shortMessage','TX\x20DATA\x20','acc','address','estimateGasWithRetry','wallet','https://sightai.io','executeTx','Wallet','getUserInfo','sightai.io','3b934a35aaaa2acd0f7846cda4c3b1031a840b89','1416700emJWav','54163764FuxYom','Getting\x20Wallet\x20Balance\x20of\x20','Getting\x20User\x20Information\x20of\x20','Build\x20Tx\x20Data...','replace','Tx\x20Confirmed\x20and\x20Finalizing:\x20','3913428SzpmTj','https://sightai.io/fomo','Executing\x20TX...','gasPrice','wagmi.recentConnectorId=\x22com.okex.wallet\x22;\x20wagmi.store={\x22state\x22:{\x22connections\x22:{\x22__type\x22:\x22Map\x22,\x22value\x22:[[\x22b5fe8e1e492\x22,{\x22accounts\x22:[\x22','QYED78','\x0a\x0aMake\x20sure\x20that\x20you\x20trust\x20this\x20site\x20and\x20are\x20aware\x20of\x20the\x20security\x20implications\x20of\x20signing\x20this\x20message.\x0a\x0aURI:\x20','Error\x20Playing\x20Arcade\x20','%5C%22%7D%22%2C%7B%7D%2C%22%2Fdashboard%3Freferral-code%3D','JsonRpcProvider','playArcade','determineType','toString','balance','availableArcade','CHAINID','5dd1862a3d5d9a970c36c027f2d82f7280223906','delay','POST','sightAiSignature','pools','\x0aNonce:\x20','RPCURL','Try\x20To\x20Check\x20In...','1245583lhWnQD','177vmyWbW','\x0aIssued\x20At:\x20'];a2_0x33c3=function(){return _0x120f4a;};return a2_0x33c3();}function a2_0x2497(_0x51ffbc,_0x56855a){const _0x33c336=a2_0x33c3();return a2_0x2497=function(_0x2497b6,_0x5570e4){_0x2497b6=_0x2497b6-0xf8;let _0x9dc86c=_0x33c336[_0x2497b6];return _0x9dc86c;},a2_0x2497(_0x51ffbc,_0x56855a);}import{Helper}from'../utils/helper.js';import a2_0x53ac64 from'../utils/logger.js';import{RPC}from'./network/rpc.js';import{SIGHTAI}from'./dapps/sight_ai.js';import{Config}from'../../config/config.js';export default class Core extends API{constructor(_0x27e811){const _0x712f2e=a2_0x2497;super(_0x712f2e(0x154),_0x712f2e(0x158),'https://sightai.io',_0x712f2e(0x166)),this[_0x712f2e(0x150)]=_0x27e811,this['played']=![],this['provider']=new ethers[(_0x712f2e(0x16a))](RPC[_0x712f2e(0xfc)],RPC[_0x712f2e(0x170)]),this['stateTree']='%5B%22%22%2C%7B%22children%22%3A%5B%22(platform)%22%2C%7B%22children%22%3A%5B%22dashboard%22%2C%7B%22children%22%3A%5B%22__PAGE__%3F%7B%5C%22referral-code%5C%22%3A%5C%22'+this['something']+_0x712f2e(0x169)+this[_0x712f2e(0x10d)]+_0x712f2e(0x14d);}async[a2_0x263f99(0x14a)](){const _0x2b1759=a2_0x263f99;try{const _0x3ca21f=this[_0x2b1759(0x150)]['replace'](/^0x/,'');await Helper[_0x2b1759(0x172)](0x3e8,this[_0x2b1759(0x150)],_0x2b1759(0x121)+(privateKey[_0x2b1759(0x111)](this[_0x2b1759(0x150)])+0x1),this);const _0x183dc2=Helper[_0x2b1759(0x16c)](_0x3ca21f);a2_0x53ac64[_0x2b1759(0x13f)](_0x2b1759(0x106)+_0x183dc2);if(_0x183dc2=='Secret\x20Phrase')this['wallet']=new ethers[(_0x2b1759(0x156))][(_0x2b1759(0x13d))](_0x3ca21f,this[_0x2b1759(0x114)]);else{if(_0x183dc2==_0x2b1759(0x12c))this['wallet']=new ethers[(_0x2b1759(0x156))](_0x3ca21f['trim'](),this[_0x2b1759(0x114)]);else throw Error(_0x2b1759(0x133));}this[_0x2b1759(0x151)]=this[_0x2b1759(0x153)][_0x2b1759(0x151)],this[_0x2b1759(0x146)]=_0x2b1759(0x165)+this['wallet'][_0x2b1759(0x151)]+'\x22],\x22chainId\x22:17000,\x22connector\x22:{\x22id\x22:\x22com.okex.wallet\x22,\x22name\x22:\x22OKX\x20Wallet\x22,\x22type\x22:\x22injected\x22,\x22uid\x22:\x22b5fe8e1e492\x22}}],[\x228c5b60aac25\x22,{\x22accounts\x22:[\x22'+this[_0x2b1759(0x153)]['address']+_0x2b1759(0x12e),await Helper[_0x2b1759(0x172)](0x3e8,this[_0x2b1759(0x150)],'Wallet\x20connected\x20'+JSON[_0x2b1759(0x123)](this['wallet'][_0x2b1759(0x151)]),this);}catch(_0x5a58a6){throw _0x5a58a6;}}async[a2_0x263f99(0x105)](_0x47c709=![]){const _0x504463=a2_0x263f99;try{!_0x47c709&&await Helper[_0x504463(0x172)](0x1f4,this[_0x504463(0x150)],_0x504463(0x15c)+this['wallet'][_0x504463(0x151)],this);const _0x32ef52=ethers[_0x504463(0x112)](await this[_0x504463(0x114)][_0x504463(0x105)](this[_0x504463(0x153)][_0x504463(0x151)]));this[_0x504463(0x16e)]=_0x32ef52,await Helper[_0x504463(0x172)](0x1f4,this['acc'],_0x504463(0x139),this);}catch(_0x22b52a){throw _0x22b52a;}}async[a2_0x263f99(0x157)](_0x3025cb=![]){const _0x358f41=a2_0x263f99;try{if(_0x3025cb)await Helper[_0x358f41(0x172)](0x1f4,this[_0x358f41(0x150)],_0x358f41(0x15d)+this[_0x358f41(0x153)]['address'],this);const _0x5dfa8a=await this[_0x358f41(0x126)](_0x358f41(0x104)+this[_0x358f41(0x10d)],_0x358f41(0xf8),undefined,[this[_0x358f41(0x151)]],{'Referer':_0x358f41(0x12d)+this[_0x358f41(0x10d)],'Next-Action':_0x358f41(0x171),'Next-Router-State-Tree':this[_0x358f41(0x134)],'Cookie':this[_0x358f41(0x146)]});if(_0x5dfa8a[_0x358f41(0x11b)]==0xc8){this[_0x358f41(0x103)]=this[_0x358f41(0x11c)](_0x5dfa8a['message']),this[_0x358f41(0x146)]='wagmi.recentConnectorId=\x22com.okex.wallet\x22;\x20wagmi.store={\x22state\x22:{\x22connections\x22:{\x22__type\x22:\x22Map\x22,\x22value\x22:[[\x22b5fe8e1e492\x22,{\x22accounts\x22:[\x22'+this[_0x358f41(0x151)]+'\x22],\x22chainId\x22:17000,\x22connector\x22:{\x22id\x22:\x22com.okex.wallet\x22,\x22name\x22:\x22OKX\x20Wallet\x22,\x22type\x22:\x22injected\x22,\x22uid\x22:\x22b5fe8e1e492\x22}}],[\x228c5b60aac25\x22,{\x22accounts\x22:[\x22'+this['address']+'\x22],\x22chainId\x22:17000,\x22connector\x22:{\x22id\x22:\x22metaMask\x22,\x22name\x22:\x22MetaMask\x22,\x22type\x22:\x22injected\x22,\x22uid\x22:\x228c5b60aac25\x22}}]]},\x22chainId\x22:17000,\x22current\x22:\x228c5b60aac25\x22},\x22version\x22:2};\x20'+this['sessionCookie'];if(_0x3025cb)await Helper[_0x358f41(0x172)](0x1f4,this['acc'],_0x358f41(0x11e),this);}}catch(_0x4e9b58){throw _0x4e9b58;}}async[a2_0x263f99(0x120)](){const _0x4940eb=a2_0x263f99;try{await Helper[_0x4940eb(0x172)](0x1f4,this['acc'],_0x4940eb(0xfd),this);const _0x155a89=await this[_0x4940eb(0x126)](_0x4940eb(0x104)+this['something'],'POST',undefined,[],{'Referer':_0x4940eb(0x12d)+this['something'],'Next-Action':'e5afaaaeff44c664f214a016c10409c8e930d77a','Next-Router-State-Tree':this['stateTree'],'Cookie':this[_0x4940eb(0x146)]});if(_0x155a89[_0x4940eb(0x11b)]==0xc8)await Helper[_0x4940eb(0x172)](0x1f4,this[_0x4940eb(0x150)],_0x4940eb(0x147),this);else throw Error(_0x4940eb(0x14c)+_0x155a89['message']);}catch(_0x50011b){throw _0x50011b;}}async[a2_0x263f99(0x108)](){const _0x908e65=a2_0x263f99;await Helper[_0x908e65(0x172)](0x3e8,this[_0x908e65(0x150)],'Connecting\x20to\x20Sight\x20Ai\x20Dapps',this);const _0x3ad5e9=SIGHTAI[_0x908e65(0x128)]+'\x20wants\x20you\x20to\x20sign\x20in\x20with\x20your\x20Ethereum\x20account:\x20'+this['address']+_0x908e65(0x167)+SIGHTAI['URL']+'\x0aVersion:\x20'+SIGHTAI['VERSION']+_0x908e65(0x145)+RPC['CHAINID']+_0x908e65(0xfb)+Helper[_0x908e65(0x149)]()+_0x908e65(0x100)+new Date()[_0x908e65(0x11f)]()+'\x0a';a2_0x53ac64[_0x908e65(0x13f)](_0x908e65(0x109)+_0x3ad5e9);const _0x34d4a8=await this[_0x908e65(0x153)]['signMessage'](_0x3ad5e9);a2_0x53ac64['info']('Signed\x20Message:\x20'+_0x34d4a8);const _0x1e3b31=await this[_0x908e65(0x126)](_0x908e65(0x104)+this[_0x908e65(0x10d)],_0x908e65(0xf8),undefined,[_0x34d4a8,_0x3ad5e9,this[_0x908e65(0x10d)]],{'Referer':_0x908e65(0x12d)+this['something'],'Next-Action':_0x908e65(0x159),'Next-Router-State-Tree':this['stateTree'],'Cookie':this['cookie']});if(_0x1e3b31['status']==0xc8)await Helper[_0x908e65(0x172)](0x1f4,this[_0x908e65(0x150)],_0x908e65(0x122),this),this[_0x908e65(0xf9)]=_0x34d4a8;else throw Error(_0x908e65(0x137));}async[a2_0x263f99(0x141)](_0x1a2940=![]){const _0x542aed=a2_0x263f99;try{if(_0x1a2940)await Helper[_0x542aed(0x172)](0x1f4,this[_0x542aed(0x150)],_0x542aed(0x10a),this);const _0x158a1d=await this['fetch'](_0x542aed(0x124),'POST',undefined,[0x0,'$undefined',0x1,0x6],{'Referer':_0x542aed(0x162),'Next-Action':_0x542aed(0x12f),'Next-Router-State-Tree':this[_0x542aed(0x134)],'Cookie':this[_0x542aed(0x146)]});if(_0x158a1d[_0x542aed(0x11b)]==0xc8){const _0x270b20=this[_0x542aed(0x11c)](_0x158a1d['message']);this[_0x542aed(0x10c)]=[];if(_0x270b20[_0x542aed(0xfa)])this['arcade']['push'](..._0x270b20[_0x542aed(0xfa)]);this[_0x542aed(0x16f)]=this[_0x542aed(0x10c)][_0x542aed(0x12a)](_0x335e32=>_0x335e32['state']==0x1||_0x335e32[_0x542aed(0x10f)]==0x2||_0x335e32[_0x542aed(0x132)]==_0x542aed(0x116));if(_0x1a2940)await Helper[_0x542aed(0x172)](0x1f4,this[_0x542aed(0x150)],_0x542aed(0x143),this);}}catch(_0x560698){throw _0x560698;}}async[a2_0x263f99(0x16b)](_0x550027){const _0x21050c=a2_0x263f99;try{await Helper['delay'](0x3e8,this[_0x21050c(0x150)],_0x21050c(0x115)+_0x550027['id']+_0x21050c(0x11a),this),await Helper[_0x21050c(0x172)](0x1f4,this['acc'],_0x21050c(0x135),this),await Helper['delay'](0x1f4,this['acc'],'Estimating\x20Gas...',this);const _0x2d8a48=ethers[_0x21050c(0x113)](Config[_0x21050c(0x13c)][_0x21050c(0x16d)]()),_0x124136=Config[_0x21050c(0x13e)],_0x2c8278=await this['provider'][_0x21050c(0x117)](this[_0x21050c(0x153)]['address'],_0x21050c(0x107)),_0x2b9b9b=await this[_0x21050c(0x114)][_0x21050c(0x10b)](),_0x6c75b6=await this[_0x21050c(0x152)](_0x550027[_0x21050c(0x151)],_0x2d8a48,_0x124136,0x3);await Helper[_0x21050c(0x172)](0x1f4,this[_0x21050c(0x150)],_0x21050c(0x15e),this);const _0x2ac4b6={'from':this[_0x21050c(0x151)],'to':_0x550027['address'],'value':_0x2d8a48,'gasLimit':_0x6c75b6,'gasPrice':_0x2b9b9b[_0x21050c(0x164)],'nonce':_0x2c8278,'data':_0x124136};a2_0x53ac64['info'](_0x21050c(0x148)+_0x550027['id']),await this[_0x21050c(0x155)](_0x2ac4b6),this['played']=!![];}catch(_0x2afecf){await Helper[_0x21050c(0x172)](0xbb8,this[_0x21050c(0x150)],_0x21050c(0x168)+_0x2afecf[_0x21050c(0x127)]+_0x21050c(0x11a),this),this[_0x21050c(0x131)]=![];}}async[a2_0x263f99(0x152)](_0x1b4d1e,_0x439276,_0x197e30,_0x44d56c=0x3,_0x411c25=0xbb8){const _0x3f910f=a2_0x263f99;for(let _0x121ac0=0x0;_0x121ac0<_0x44d56c;_0x121ac0++){try{const _0x1fcb16=await this[_0x3f910f(0x114)][_0x3f910f(0x14b)]({'from':this[_0x3f910f(0x153)]['address'],'to':_0x1b4d1e,'value':_0x439276,'data':_0x197e30});return _0x1fcb16;}catch(_0x202f2d){await Helper[_0x3f910f(0x172)](_0x411c25,this[_0x3f910f(0x150)],_0x202f2d[_0x3f910f(0x14e)]+_0x3f910f(0x11d)+(_0x121ac0+0x1)+_0x3f910f(0x130)+_0x44d56c,this);if(_0x121ac0===_0x44d56c-0x1)throw Error(_0x3f910f(0x144)+_0x44d56c+_0x3f910f(0x118));}}}['decodeData'](_0x1d4284){const _0x34436a=a2_0x263f99,_0x379d79=_0x1d4284,_0x1b83ee=_0x379d79['split']('\x0a')['filter'](Boolean);let _0x5ef1be=null;_0x1b83ee[_0x34436a(0x129)](_0x287ff3=>{const _0x25318c=_0x34436a;if(_0x287ff3[_0x25318c(0x140)]('1:')){const _0x2fede2=_0x287ff3[_0x25318c(0x142)](0x2)['trim']();try{_0x5ef1be=JSON[_0x25318c(0x13a)](_0x2fede2);}catch(_0x43ec38){_0x5ef1be={};}}});let _0x4a1473=JSON[_0x34436a(0x123)](_0x5ef1be)[_0x34436a(0x15f)](new RegExp(this['something'],'g'),'?????');return _0x4a1473[_0x34436a(0x10e)]>0xc8&&(_0x4a1473=_0x4a1473[_0x34436a(0x142)](0x0,0xc8)+_0x34436a(0x11a)),a2_0x53ac64[_0x34436a(0x13f)](_0x34436a(0x110)+_0x4a1473),_0x5ef1be;}async[a2_0x263f99(0x155)](_0x3fc595){const _0x16f440=a2_0x263f99;a2_0x53ac64[_0x16f440(0x13f)](_0x16f440(0x14f)+JSON[_0x16f440(0x123)](Helper[_0x16f440(0x119)](_0x3fc595))),await Helper[_0x16f440(0x172)](0x1f4,this[_0x16f440(0x150)],_0x16f440(0x163),this);const _0xa123a7=await this[_0x16f440(0x153)][_0x16f440(0x102)](_0x3fc595),_0x3f0718=await _0xa123a7['wait']();a2_0x53ac64['info'](_0x16f440(0x160)+JSON[_0x16f440(0x123)](_0x3f0718)),await Helper['delay'](0x1388,this['acc'],_0x16f440(0x136)+RPC[_0x16f440(0x101)]+'tx/'+_0x3f0718['hash'],this),await this[_0x16f440(0x105)](!![]);}}