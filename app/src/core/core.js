const a2_0xa690a9=a2_0x29a1;(function(_0x14445a,_0x4a7ddd){const _0x1a8ef8=a2_0x29a1,_0xa9a2e8=_0x14445a();while(!![]){try{const _0x4077d7=parseInt(_0x1a8ef8(0x242))/0x1*(parseInt(_0x1a8ef8(0x212))/0x2)+parseInt(_0x1a8ef8(0x20d))/0x3+-parseInt(_0x1a8ef8(0x1e7))/0x4*(parseInt(_0x1a8ef8(0x1fe))/0x5)+parseInt(_0x1a8ef8(0x20e))/0x6+parseInt(_0x1a8ef8(0x259))/0x7*(-parseInt(_0x1a8ef8(0x211))/0x8)+-parseInt(_0x1a8ef8(0x1e2))/0x9+-parseInt(_0x1a8ef8(0x1ea))/0xa*(parseInt(_0x1a8ef8(0x235))/0xb);if(_0x4077d7===_0x4a7ddd)break;else _0xa9a2e8['push'](_0xa9a2e8['shift']());}catch(_0x41aa94){_0xa9a2e8['push'](_0xa9a2e8['shift']());}}}(a2_0x52c5,0x1f6ab));import{ethers}from'ethers';import{API}from'../api/api.js';function a2_0x29a1(_0x2ddf6d,_0x130ba6){const _0x52c5ca=a2_0x52c5();return a2_0x29a1=function(_0x29a1f5,_0x958f76){_0x29a1f5=_0x29a1f5-0x1e2;let _0x15e3de=_0x52c5ca[_0x29a1f5];return _0x15e3de;},a2_0x29a1(_0x2ddf6d,_0x130ba6);}function a2_0x52c5(){const _0x39ec46=['executeTx','3b934a35aaaa2acd0f7846cda4c3b1031a840b89','forEach','URL','signMessage','549474YbThYe','696954BQIxNX','winner','filter','15864kbrRkR','482KwGGdz','getUserInfo','Failed\x20to\x20estimate\x20gas\x20after\x20','...','\x0aNonce:\x20','determineType','provider','getArcadeData','sendTransaction','Prepare\x20for\x20Tx...','Signed\x20Message:\x20','substring','Private\x20Key','shortMessage','/fomo','\x0aVersion:\x20','wallet','pools','trim','playArcade','Tx\x20Confirmed\x20and\x20Finalizing:\x20','POST','formatEther','5dd1862a3d5d9a970c36c027f2d82f7280223906','Balance\x20updated','Playing\x20Arcade\x20Game\x20ID\x20','availableArcade','sightAiSignature','parse','replace','RAWDATA','/dashboard?referral-code=','fetch','%22%2C%22refresh%22%5D%7D%5D%7D%5D%7D%2Cnull%2Cnull%2Ctrue%5D','https://sightai.io','55OmTgXC','played','QYED78','gasPrice','Tx\x20Executed\x20\x0a','delay','message','\x22],\x22chainId\x22:17000,\x22connector\x22:{\x22id\x22:\x22com.okex.wallet\x22,\x22name\x22:\x22OKX\x20Wallet\x22,\x22type\x22:\x22injected\x22,\x22uid\x22:\x22b5fe8e1e492\x22}}],[\x228c5b60aac25\x22,{\x22accounts\x22:[\x22','Account\x20Type\x20:\x20','Message\x20to\x20sign:\x20','PLAYAMOUNT','Secret\x20Phrase','serializeBigInt','851WXphMh','parseEther','balance','getTransactionCount','\x0aChain\x20ID:\x20','Getting\x20Wallet\x20Balance\x20of\x20','arcade','Executing\x20TX...','Failed\x20to\x20connect\x20to\x20SIGHT\x20AI','\x0aIssued\x20At:\x20','...\x20Attempt\x20','0x0000000000000000000000000000000000000000','?????','push','something','stateTree','Connecting\x20to\x20Account\x20:\x20','cookie','status','https://sightai.io/dashboard?referral-code=','checkIn','e5afaaaeff44c664f214a016c10409c8e930d77a','wait','63YEudRP','5ac42dcc7a005b04d92431cdc4172391e05d2ca3','find','split','hash','connectSightAiDapps','Connecting\x20to\x20Sight\x20Ai\x20Dapps','273330FwTxRO','Estimating\x20Gas...','wagmi.recentConnectorId=\x22com.okex.wallet\x22;\x20wagmi.store={\x22state\x22:{\x22connections\x22:{\x22__type\x22:\x22Map\x22,\x22value\x22:[[\x22b5fe8e1e492\x22,{\x22accounts\x22:[\x22','tx/','estimateGasWithRetry','12USHqgl','acc','address','580070EFAKVT','\x20wants\x20you\x20to\x20sign\x20in\x20with\x20your\x20Ethereum\x20account:\x20','\x20attempts.','Wallet','https://sightai.io/fomo','Successfully\x20Check\x20In','stringify','JsonRpcProvider','Getting\x20User\x20Information\x20of\x20','Try\x20To\x20Check\x20In...','state','CHAINID','sessionCookie','sightai.io','generateNonce','$undefined','info','getBalance','startsWith','estimateGas','62455ckykvS','Build\x20Tx\x20Data...','%5B%22%22%2C%7B%22children%22%3A%5B%22(platform)%22%2C%7B%22children%22%3A%5B%22dashboard%22%2C%7B%22children%22%3A%5B%22__PAGE__%3F%7B%5C%22referral-code%5C%22%3A%5C%22','TX\x20DATA\x20','EXPLORER','RPCURL','Invalid\x20account\x20Secret\x20Phrase\x20or\x20Private\x20Key','length','latest','decodeData'];a2_0x52c5=function(){return _0x39ec46;};return a2_0x52c5();}import{privateKey}from'../../accounts/accounts.js';import{Helper}from'../utils/helper.js';import a2_0x464378 from'../utils/logger.js';import{RPC}from'./network/rpc.js';import{SIGHTAI}from'./dapps/sight_ai.js';import{Config}from'../../config/config.js';export default class Core extends API{constructor(_0x520054){const _0x1b506f=a2_0x29a1;super(_0x1b506f(0x234),_0x1b506f(0x1f7),'https://sightai.io',_0x1b506f(0x237)),this[_0x1b506f(0x1e8)]=_0x520054,this[_0x1b506f(0x236)]=![],this['provider']=new ethers[(_0x1b506f(0x1f1))](RPC[_0x1b506f(0x203)],RPC[_0x1b506f(0x1f5)]),this['stateTree']=_0x1b506f(0x200)+this[_0x1b506f(0x250)]+'%5C%22%7D%22%2C%7B%7D%2C%22%2Fdashboard%3Freferral-code%3D'+this[_0x1b506f(0x250)]+_0x1b506f(0x233);}async['connectWallet'](){const _0x3c2422=a2_0x29a1;try{const _0x3c2c91=this[_0x3c2422(0x1e8)][_0x3c2422(0x22f)](/^0x/,'');await Helper[_0x3c2422(0x23a)](0x3e8,this[_0x3c2422(0x1e8)],_0x3c2422(0x252)+(privateKey['indexOf'](this[_0x3c2422(0x1e8)])+0x1),this);const _0x468892=Helper[_0x3c2422(0x217)](_0x3c2c91);a2_0x464378[_0x3c2422(0x1fa)](_0x3c2422(0x23d)+_0x468892);if(_0x468892==_0x3c2422(0x240))this[_0x3c2422(0x222)]=new ethers[(_0x3c2422(0x1ed))]['fromPhrase'](_0x3c2c91,this[_0x3c2422(0x218)]);else{if(_0x468892==_0x3c2422(0x21e))this[_0x3c2422(0x222)]=new ethers[(_0x3c2422(0x1ed))](_0x3c2c91[_0x3c2422(0x224)](),this[_0x3c2422(0x218)]);else throw Error(_0x3c2422(0x204));}this[_0x3c2422(0x1e9)]=this['wallet'][_0x3c2422(0x1e9)],this['cookie']='wagmi.recentConnectorId=\x22com.okex.wallet\x22;\x20wagmi.store={\x22state\x22:{\x22connections\x22:{\x22__type\x22:\x22Map\x22,\x22value\x22:[[\x22b5fe8e1e492\x22,{\x22accounts\x22:[\x22'+this[_0x3c2422(0x222)][_0x3c2422(0x1e9)]+_0x3c2422(0x23c)+this[_0x3c2422(0x222)][_0x3c2422(0x1e9)]+'\x22],\x22chainId\x22:17000,\x22connector\x22:{\x22id\x22:\x22metaMask\x22,\x22name\x22:\x22MetaMask\x22,\x22type\x22:\x22injected\x22,\x22uid\x22:\x228c5b60aac25\x22}}]]},\x22chainId\x22:17000,\x22current\x22:\x228c5b60aac25\x22},\x22version\x22:2}',await Helper[_0x3c2422(0x23a)](0x3e8,this[_0x3c2422(0x1e8)],'Wallet\x20connected\x20'+JSON[_0x3c2422(0x1f0)](this[_0x3c2422(0x222)][_0x3c2422(0x1e9)]),this);}catch(_0x4283b1){throw _0x4283b1;}}async[a2_0xa690a9(0x1fb)](_0x4a5395=![]){const _0xfa1225=a2_0xa690a9;try{!_0x4a5395&&await Helper['delay'](0x1f4,this[_0xfa1225(0x1e8)],_0xfa1225(0x247)+this[_0xfa1225(0x222)]['address'],this);const _0x1daf8a=ethers[_0xfa1225(0x228)](await this['provider'][_0xfa1225(0x1fb)](this[_0xfa1225(0x222)][_0xfa1225(0x1e9)]));this[_0xfa1225(0x244)]=_0x1daf8a,await Helper[_0xfa1225(0x23a)](0x1f4,this[_0xfa1225(0x1e8)],_0xfa1225(0x22a),this);}catch(_0x5a9504){throw _0x5a9504;}}async[a2_0xa690a9(0x213)](_0x59f500=![]){const _0x100c38=a2_0xa690a9;try{if(_0x59f500)await Helper['delay'](0x1f4,this[_0x100c38(0x1e8)],_0x100c38(0x1f2)+this[_0x100c38(0x222)][_0x100c38(0x1e9)],this);const _0x27eef0=await this['fetch'](_0x100c38(0x231)+this[_0x100c38(0x250)],_0x100c38(0x227),undefined,[this[_0x100c38(0x1e9)]],{'Referer':_0x100c38(0x255)+this[_0x100c38(0x250)],'Next-Action':_0x100c38(0x229),'Next-Router-State-Tree':this['stateTree'],'Cookie':this['cookie']});if(_0x27eef0[_0x100c38(0x254)]==0xc8){this['user']=this[_0x100c38(0x207)](_0x27eef0[_0x100c38(0x23b)]),this[_0x100c38(0x253)]=_0x100c38(0x1e4)+this[_0x100c38(0x1e9)]+_0x100c38(0x23c)+this[_0x100c38(0x1e9)]+'\x22],\x22chainId\x22:17000,\x22connector\x22:{\x22id\x22:\x22metaMask\x22,\x22name\x22:\x22MetaMask\x22,\x22type\x22:\x22injected\x22,\x22uid\x22:\x228c5b60aac25\x22}}]]},\x22chainId\x22:17000,\x22current\x22:\x228c5b60aac25\x22},\x22version\x22:2};\x20'+this[_0x100c38(0x1f6)];if(_0x59f500)await Helper[_0x100c38(0x23a)](0x1f4,this[_0x100c38(0x1e8)],'Successfully\x20Got\x20User\x20Data',this);}}catch(_0x5d076e){throw _0x5d076e;}}async[a2_0xa690a9(0x256)](){const _0xbf56ac=a2_0xa690a9;try{await Helper['delay'](0x1f4,this['acc'],_0xbf56ac(0x1f3),this);const _0x280407=await this[_0xbf56ac(0x232)]('/dashboard?referral-code='+this[_0xbf56ac(0x250)],_0xbf56ac(0x227),undefined,[],{'Referer':_0xbf56ac(0x255)+this[_0xbf56ac(0x250)],'Next-Action':_0xbf56ac(0x257),'Next-Router-State-Tree':this[_0xbf56ac(0x251)],'Cookie':this[_0xbf56ac(0x253)]});if(_0x280407[_0xbf56ac(0x254)]==0xc8)await Helper[_0xbf56ac(0x23a)](0x1f4,this[_0xbf56ac(0x1e8)],_0xbf56ac(0x1ef),this);else throw Error('Failed\x20To\x20Check\x20In\x20'+_0x280407[_0xbf56ac(0x23b)]);}catch(_0x4aaf21){throw _0x4aaf21;}}async[a2_0xa690a9(0x25e)](){const _0x5aba4a=a2_0xa690a9;await Helper[_0x5aba4a(0x23a)](0x3e8,this[_0x5aba4a(0x1e8)],_0x5aba4a(0x25f),this);const _0x314857=SIGHTAI['URL']+_0x5aba4a(0x1eb)+this[_0x5aba4a(0x1e9)]+'\x0a\x0aMake\x20sure\x20that\x20you\x20trust\x20this\x20site\x20and\x20are\x20aware\x20of\x20the\x20security\x20implications\x20of\x20signing\x20this\x20message.\x0a\x0aURI:\x20'+SIGHTAI[_0x5aba4a(0x20b)]+_0x5aba4a(0x221)+SIGHTAI['VERSION']+_0x5aba4a(0x246)+RPC['CHAINID']+_0x5aba4a(0x216)+Helper[_0x5aba4a(0x1f8)]()+_0x5aba4a(0x24b)+new Date()['toISOString']()+'\x0a';a2_0x464378[_0x5aba4a(0x1fa)](_0x5aba4a(0x23e)+_0x314857);const _0x1dbcd7=await this['wallet'][_0x5aba4a(0x20c)](_0x314857);a2_0x464378[_0x5aba4a(0x1fa)](_0x5aba4a(0x21c)+_0x1dbcd7);const _0xfe5c35=await this[_0x5aba4a(0x232)](_0x5aba4a(0x231)+this[_0x5aba4a(0x250)],'POST',undefined,[_0x1dbcd7,_0x314857,this['something']],{'Referer':_0x5aba4a(0x255)+this[_0x5aba4a(0x250)],'Next-Action':_0x5aba4a(0x209),'Next-Router-State-Tree':this['stateTree'],'Cookie':this[_0x5aba4a(0x253)]});if(_0xfe5c35['status']==0xc8)await Helper[_0x5aba4a(0x23a)](0x1f4,this[_0x5aba4a(0x1e8)],'Connected\x20to\x20Sight\x20AI',this),this[_0x5aba4a(0x22d)]=_0x1dbcd7;else throw Error(_0x5aba4a(0x24a));}async[a2_0xa690a9(0x219)](_0x143a3a=![]){const _0x55f2a9=a2_0xa690a9;try{if(_0x143a3a)await Helper[_0x55f2a9(0x23a)](0x1f4,this[_0x55f2a9(0x1e8)],'Getting\x20Arcade\x20Game\x20Information...',this);const _0x11db41=await this['fetch'](_0x55f2a9(0x220),'POST',undefined,[0x0,_0x55f2a9(0x1f9),0x1,0x6],{'Referer':_0x55f2a9(0x1ee),'Next-Action':_0x55f2a9(0x25a),'Next-Router-State-Tree':this[_0x55f2a9(0x251)],'Cookie':this[_0x55f2a9(0x253)]});if(_0x11db41[_0x55f2a9(0x254)]==0xc8){const _0x358702=this['decodeData'](_0x11db41[_0x55f2a9(0x23b)]);this[_0x55f2a9(0x248)]=[];if(_0x358702[_0x55f2a9(0x223)])this[_0x55f2a9(0x248)][_0x55f2a9(0x24f)](..._0x358702[_0x55f2a9(0x223)]);this[_0x55f2a9(0x22c)]=this['arcade'][_0x55f2a9(0x25b)](_0xd9be4f=>_0xd9be4f[_0x55f2a9(0x1f4)]==0x1||_0xd9be4f[_0x55f2a9(0x1f4)]==0x2||_0xd9be4f[_0x55f2a9(0x20f)]==_0x55f2a9(0x24d));if(_0x143a3a)await Helper['delay'](0x1f4,this[_0x55f2a9(0x1e8)],'Successfully\x20Got\x20Arcade\x20Info',this);}}catch(_0x42ecfc){throw _0x42ecfc;}}async[a2_0xa690a9(0x225)](_0x1496c9){const _0x59148f=a2_0xa690a9;try{await Helper[_0x59148f(0x23a)](0x3e8,this[_0x59148f(0x1e8)],_0x59148f(0x22b)+_0x1496c9['id']+_0x59148f(0x215),this),await Helper[_0x59148f(0x23a)](0x1f4,this['acc'],_0x59148f(0x21b),this),await Helper[_0x59148f(0x23a)](0x1f4,this[_0x59148f(0x1e8)],_0x59148f(0x1e3),this);const _0x117e17=ethers[_0x59148f(0x243)](Config[_0x59148f(0x23f)]['toString']()),_0x450752=Config[_0x59148f(0x230)],_0x3fa4b9=await this[_0x59148f(0x218)][_0x59148f(0x245)](this[_0x59148f(0x222)][_0x59148f(0x1e9)],_0x59148f(0x206)),_0x5704ae=await this[_0x59148f(0x218)]['getFeeData'](),_0x5e5097=await this[_0x59148f(0x1e6)](_0x1496c9[_0x59148f(0x1e9)],_0x117e17,_0x450752,0x3);await Helper['delay'](0x1f4,this[_0x59148f(0x1e8)],_0x59148f(0x1ff),this);const _0x28166a={'from':this[_0x59148f(0x1e9)],'to':_0x1496c9[_0x59148f(0x1e9)],'value':_0x117e17,'gasLimit':_0x5e5097,'gasPrice':_0x5704ae[_0x59148f(0x238)],'nonce':_0x3fa4b9,'data':_0x450752};a2_0x464378['info']('Preparing\x20to\x20send\x20transaction\x20for\x20Arcade\x20Game\x20ID\x20'+_0x1496c9['id']),await this[_0x59148f(0x208)](_0x28166a),this[_0x59148f(0x236)]=!![];}catch(_0x5e1967){await Helper[_0x59148f(0x23a)](0xbb8,this['acc'],'Error\x20Playing\x20Arcade\x20'+_0x5e1967['message']+_0x59148f(0x215),this),this[_0x59148f(0x236)]=![];}}async[a2_0xa690a9(0x1e6)](_0x15bf85,_0x596cc4,_0x474099,_0x58982a=0x3,_0x2a91b3=0xbb8){const _0x53dfdc=a2_0xa690a9;for(let _0x3fe317=0x0;_0x3fe317<_0x58982a;_0x3fe317++){try{const _0x403949=await this['provider'][_0x53dfdc(0x1fd)]({'from':this[_0x53dfdc(0x222)]['address'],'to':_0x15bf85,'value':_0x596cc4,'data':_0x474099});return _0x403949;}catch(_0x929142){await Helper[_0x53dfdc(0x23a)](_0x2a91b3,this[_0x53dfdc(0x1e8)],_0x929142[_0x53dfdc(0x21f)]+_0x53dfdc(0x24c)+(_0x3fe317+0x1)+'\x20of\x20'+_0x58982a,this);if(_0x3fe317===_0x58982a-0x1)throw Error(_0x53dfdc(0x214)+_0x58982a+_0x53dfdc(0x1ec));}}}[a2_0xa690a9(0x207)](_0xb6b306){const _0x53368d=a2_0xa690a9,_0x48582f=_0xb6b306,_0x280d78=_0x48582f[_0x53368d(0x25c)]('\x0a')[_0x53368d(0x210)](Boolean);let _0x51c595=null;_0x280d78[_0x53368d(0x20a)](_0x52a11b=>{const _0x4a5c06=_0x53368d;if(_0x52a11b[_0x4a5c06(0x1fc)]('1:')){const _0x19a77d=_0x52a11b[_0x4a5c06(0x21d)](0x2)[_0x4a5c06(0x224)]();try{_0x51c595=JSON[_0x4a5c06(0x22e)](_0x19a77d);}catch(_0xa3e49c){_0x51c595={};}}});let _0x469a27=JSON[_0x53368d(0x1f0)](_0x51c595)[_0x53368d(0x22f)](new RegExp(this[_0x53368d(0x250)],'g'),_0x53368d(0x24e));return _0x469a27[_0x53368d(0x205)]>0xc8&&(_0x469a27=_0x469a27['substring'](0x0,0xc8)+'...'),a2_0x464378[_0x53368d(0x1fa)]('JSON\x20Data\x20:\x20'+_0x469a27),_0x51c595;}async[a2_0xa690a9(0x208)](_0x36be73){const _0x1fc2a0=a2_0xa690a9;a2_0x464378[_0x1fc2a0(0x1fa)](_0x1fc2a0(0x201)+JSON[_0x1fc2a0(0x1f0)](Helper[_0x1fc2a0(0x241)](_0x36be73))),await Helper[_0x1fc2a0(0x23a)](0x1f4,this[_0x1fc2a0(0x1e8)],_0x1fc2a0(0x249),this);const _0xf47cef=await this['wallet'][_0x1fc2a0(0x21a)](_0x36be73),_0x1456d0=await _0xf47cef[_0x1fc2a0(0x258)]();a2_0x464378[_0x1fc2a0(0x1fa)](_0x1fc2a0(0x226)+JSON[_0x1fc2a0(0x1f0)](_0x1456d0)),await Helper['delay'](0x1388,this[_0x1fc2a0(0x1e8)],_0x1fc2a0(0x239)+RPC[_0x1fc2a0(0x202)]+_0x1fc2a0(0x1e5)+_0x1456d0[_0x1fc2a0(0x25d)],this),await this[_0x1fc2a0(0x1fb)](!![]);}}